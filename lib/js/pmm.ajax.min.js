function pmmButtonOn(e){jQuery("p."+e+" input.pmm-button").removeAttr("disabled")}function pmmButtonOff(e){jQuery("p."+e+" input.pmm-button").attr("disabled","disabled")}function pmmDisplayMessages(e,s,m){var a='<button class="notice-dismiss pmm-notice-dismiss" type="button"><span class="screen-reader-text">Dismiss this notice.</span></button>';jQuery(e).after('<div class="'+s+'"><p>'+m+"</p> "+a+"</div>")}function pmmClearMessages(){jQuery("div#wpbody div.pmm-message").remove(),jQuery("div#wpbody div#setting-error-settings_updated").remove()}jQuery(document).ready(function(e){var s="",m="",a="",t="",i="";e("p.process").on("click","input#pmm-change",function(){pmmClearMessages(),pmmButtonOff("change-process"),i=e(this).data("nonce"),t=e(this).data("tablename"),s=e("#meta-key-old").prop("value"),m=e("#meta-key-new").prop("value");var a={action:"key_change",keyold:s,keynew:m,table:t,nonce:i};jQuery.post(ajaxurl,a,function(s){pmmButtonOn("change-process");var m;try{m=jQuery.parseJSON(s)}catch(a){pmmDisplayMessages("div#wpbody h1:first","notice notice-error is-dismissable pmm-message",pmmAjaxData.genError)}m.success===!0?(e("input.meta-key-field").val(""),pmmDisplayMessages("div#wpbody h1:first","notice notice-success is-dismissible pmm-message",m.message)):m.success===!1&&""!==m.message?pmmDisplayMessages("div#wpbody h1:first","notice notice-error is-dismissible pmm-message",m.message):pmmDisplayMessages("div#wpbody h1:first","notice notice-error is-dismissible pmm-message",pmmAjaxData.genError)})}),e("p.process").on("click","input#pmm-remove",function(s){pmmClearMessages(),pmmButtonOff("remove-process"),i=e(this).data("nonce"),t=e(this).data("tablename"),a=e("#meta-key-kill").prop("value");var m={action:"key_delete",keykill:a,table:t,nonce:i};jQuery.post(ajaxurl,m,function(s){pmmButtonOn("remove-process");var m;try{m=jQuery.parseJSON(s)}catch(a){pmmDisplayMessages("div#wpbody h1:first","notice notice-error pmm-message",pmmAjaxData.genError)}m.success===!0?(e("input.meta-key-field").val(""),pmmDisplayMessages("div#wpbody h1:first","notice notice-success pmm-message",m.message)):m.success===!1&&""!==m.message?pmmDisplayMessages("div#wpbody h1:first","notice notice-error pmm-message",m.message):pmmDisplayMessages("div#wpbody h1:first","notice notice-error pmm-message",pmmAjaxData.genError)})}),e(".wrap").on("click",".pmm-notice-dismiss",function(){e(".pmm-message").slideUp("fast")})});